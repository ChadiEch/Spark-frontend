const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./index-KUMPN-_-.js","./index-BJ8KLxRF.css"])))=>i.map(i=>d[i]);
import{n as ee,r as n,x as Ae,y as hs,j as e,z as us,A as Me,F as xs,J as ps,K as Ee,a as h,N as Re,C as d,O as ge,Q as fs,V as S,W as M,t as l,B as Q,X as js,Y as pe,Z as Fe,_ as Ue,$ as De,a0 as Le,a1 as Z,a2 as K,a3 as Ie,a4 as b,a5 as w,a6 as fe,a7 as G,a8 as N,f as he,a9 as gs,U as je,aa as vs,ab as ys,ac as Ns,ad as ze,M as bs,ae as le,af as se,ag as te,ah as ws,u as Ss,ai as ks,P as ue,aj as Cs,ak as Es,al as Pe,am as ie,d as Te,S as Is,T as Ps,q as Ts,an as As}from"./index-KUMPN-_-.js";const Ms=ee("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);const Rs=ee("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);const Fs=ee("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);const Us=ee("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);const Ds=ee("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);const ne=ee("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);const Ls=ee("Webhook",[["path",{d:"M18 16.98h-5.99c-1.1 0-1.95.94-2.48 1.9A4 4 0 0 1 2 17c.01-.7.2-1.4.57-2",key:"q3hayz"}],["path",{d:"m6 17 3.13-5.78c.53-.97.1-2.18-.5-3.1a4 4 0 1 1 6.89-4.06",key:"1go1hn"}],["path",{d:"m12 6 3.13 5.73C15.66 12.7 16.9 13 18 13a4 4 0 0 1 0 8",key:"qlwsc0"}]]);function zs(r,c,{checkForDefaultPrevented:t=!0}={}){return function(u){if(r?.(u),t===!1||!u.defaultPrevented)return c?.(u)}}var oe="Switch",[Bs]=us(oe),[Os,Ws]=Bs(oe),Be=n.forwardRef((r,c)=>{const{__scopeSwitch:t,name:k,checked:u,defaultChecked:x,required:f,disabled:I,value:C="on",onCheckedChange:R,form:P,...j}=r,[m,E]=n.useState(null),T=Ae(c,i=>E(i)),F=n.useRef(!1),D=m?P||!!m.closest("form"):!0,[p,L]=hs({prop:u,defaultProp:x??!1,onChange:R,caller:oe});return e.jsxs(Os,{scope:t,checked:p,disabled:I,children:[e.jsx(Me.button,{type:"button",role:"switch","aria-checked":p,"aria-required":f,"data-state":qe(p),"data-disabled":I?"":void 0,disabled:I,value:C,...j,ref:T,onClick:zs(r.onClick,i=>{L(U=>!U),D&&(F.current=i.isPropagationStopped(),F.current||i.stopPropagation())})}),D&&e.jsx(_e,{control:m,bubbles:!F.current,name:k,value:C,checked:p,required:f,disabled:I,form:P,style:{transform:"translateX(-100%)"}})]})});Be.displayName=oe;var Oe="SwitchThumb",We=n.forwardRef((r,c)=>{const{__scopeSwitch:t,...k}=r,u=Ws(Oe,t);return e.jsx(Me.span,{"data-state":qe(u.checked),"data-disabled":u.disabled?"":void 0,...k,ref:c})});We.displayName=Oe;var _s="SwitchBubbleInput",_e=n.forwardRef(({__scopeSwitch:r,control:c,checked:t,bubbles:k=!0,...u},x)=>{const f=n.useRef(null),I=Ae(f,x),C=xs(t),R=ps(c);return n.useEffect(()=>{const P=f.current;if(!P)return;const j=window.HTMLInputElement.prototype,E=Object.getOwnPropertyDescriptor(j,"checked").set;if(C!==t&&E){const T=new Event("click",{bubbles:k});E.call(P,t),P.dispatchEvent(T)}},[C,t,k]),e.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:t,...u,tabIndex:-1,ref:I,style:{...u.style,...R,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});_e.displayName=_s;function qe(r){return r?"checked":"unchecked"}var Ve=Be,qs=We;const $=n.forwardRef(({className:r,...c},t)=>e.jsx(Ve,{className:Ee("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",r),...c,ref:t,children:e.jsx(qs,{className:Ee("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));$.displayName=Ve.displayName;function Vs({profileData:r,onUpdateProfile:c}){const[t,k]=n.useState(r),[u,x]=n.useState(!1),[f,I]=n.useState({}),[C,R]=n.useState(r.avatar||null),[P,j]=n.useState(null),m=n.useRef(null);n.useEffect(()=>{k(r),R(r.avatar||null)},[r]);const E=(i,U)=>{k(O=>({...O,[i]:U})),f[i]&&I(O=>{const Y={...O};return delete Y[i],Y})},T=()=>{const i={};return t.firstName.trim()||(i.firstName="First name is required"),t.lastName.trim()||(i.lastName="Last name is required"),t.email.trim()?/\S+@\S+\.\S+/.test(t.email)||(i.email="Email is invalid"):i.email="Email is required",I(i),Object.keys(i).length===0},F=async()=>{if(!T()){l({title:"Validation Error",description:"Please fix the errors in the form before saving.",variant:"destructive"});return}x(!0);try{await c(t,P||void 0),l({title:"Profile Updated",description:"Your profile has been updated successfully."})}catch(i){console.error("Error updating profile:",i),l({title:"Error",description:"Failed to update profile. Please try again.",variant:"destructive"})}finally{x(!1)}},D=()=>{m.current?.click()},p=i=>{const U=i.target.files?.[0];if(U){if(!U.type.startsWith("image/")){l({title:"Invalid File Type",description:"Please select an image file.",variant:"destructive"});return}if(U.size>5*1024*1024){l({title:"File Too Large",description:"Please select an image file smaller than 5MB.",variant:"destructive"});return}j(U);const O=new FileReader;O.onload=Y=>{R(Y.target?.result),l({title:"Avatar Selected",description:"Click 'Save Changes' to update your profile picture."})},O.readAsDataURL(U)}},L=i=>{i.key==="Enter"&&!u&&F()};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Profile Settings"}),e.jsxs(h,{onClick:F,disabled:u,"aria-label":u?"Saving profile":"Save profile changes",children:[e.jsx(Re,{className:"h-4 w-4 mr-2"}),u?"Saving...":"Save Changes"]})]}),e.jsxs(d,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center gap-6 mb-6",children:[e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"w-20 h-20 rounded-full bg-primary/10 flex items-center justify-center cursor-pointer relative overflow-hidden",onClick:D,"aria-label":"Change profile picture",role:"button",tabIndex:0,onKeyDown:i=>{(i.key==="Enter"||i.key===" ")&&D()},children:[C?e.jsx("img",{src:C,alt:"Profile preview",className:"w-full h-full object-cover"}):e.jsx(ge,{className:"h-10 w-10 text-primary"}),e.jsx("div",{className:"absolute inset-0 bg-black/30 flex items-center justify-center opacity-0 hover:opacity-100 transition-opacity",children:e.jsx(Rs,{className:"h-6 w-6 text-white"})})]}),e.jsx(h,{variant:"outline",size:"sm",className:"absolute -bottom-2 -right-2 rounded-full p-2",onClick:D,"aria-label":"Upload new profile picture",children:e.jsx(fs,{className:"h-3 w-3"})}),e.jsx("input",{type:"file",ref:m,onChange:p,accept:"image/*",className:"hidden","aria-hidden":"true"})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold",children:[t.firstName," ",t.lastName]}),e.jsx("p",{className:"text-muted-foreground",children:t.title})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(S,{htmlFor:"firstName",children:"First Name *"}),e.jsx(M,{id:"firstName",value:t.firstName,onChange:i=>E("firstName",i.target.value),onKeyDown:L,"aria-invalid":!!f.firstName,"aria-describedby":f.firstName?"firstName-error":void 0}),f.firstName&&e.jsx("p",{id:"firstName-error",className:"text-sm text-red-500",children:f.firstName})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(S,{htmlFor:"lastName",children:"Last Name *"}),e.jsx(M,{id:"lastName",value:t.lastName,onChange:i=>E("lastName",i.target.value),onKeyDown:L,"aria-invalid":!!f.lastName,"aria-describedby":f.lastName?"lastName-error":void 0}),f.lastName&&e.jsx("p",{id:"lastName-error",className:"text-sm text-red-500",children:f.lastName})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(S,{htmlFor:"email",children:"Email *"}),e.jsx(M,{id:"email",type:"email",value:t.email,onChange:i=>E("email",i.target.value),onKeyDown:L,"aria-invalid":!!f.email,"aria-describedby":f.email?"email-error":void 0}),f.email&&e.jsx("p",{id:"email-error",className:"text-sm text-red-500",children:f.email})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(S,{htmlFor:"title",children:"Title"}),e.jsx(M,{id:"title",value:t.title,onChange:i=>E("title",i.target.value),onKeyDown:L})]}),e.jsxs("div",{className:"space-y-2 md:col-span-2",children:[e.jsx(S,{htmlFor:"timezone",children:"Timezone"}),e.jsx(M,{id:"timezone",value:t.timezone,onChange:i=>E("timezone",i.target.value),onKeyDown:L})]})]})]})]})}function Hs({notifications:r,onUpdateNotifications:c}){const[t,k]=n.useState(r),[u,x]=n.useState(!1);n.useEffect(()=>{k(r)},[r]);const f=j=>{k(m=>({...m,[j]:!m[j]}))},I=async()=>{x(!0);try{await c(t),l({title:"Notifications Updated",description:"Your notification preferences have been saved successfully."})}catch{l({title:"Error",description:"Failed to save notifications. Please try again.",variant:"destructive"})}finally{x(!1)}},C=j=>{k({campaignUpdates:j,goalProgress:j,teamActivity:j,weeklyReports:j,mentions:j,taskAssignments:j,urgentAlerts:j})},R=Object.values(t).every(j=>j),P=Object.values(t).every(j=>!j);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Notification Settings"}),e.jsxs(h,{onClick:I,disabled:u,children:[e.jsx(Re,{className:"h-4 w-4 mr-2"}),u?"Saving...":"Save Changes"]})]}),e.jsxs(d,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Email Notifications"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage which notifications you receive via email"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(h,{variant:"outline",size:"sm",onClick:()=>C(!1),disabled:P,children:"Disable All"}),e.jsx(h,{variant:"outline",size:"sm",onClick:()=>C(!0),disabled:R,children:"Enable All"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(S,{children:"Campaign Updates"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive updates about campaign progress"})]}),e.jsx($,{checked:t.campaignUpdates,onCheckedChange:()=>f("campaignUpdates"),"aria-label":"Toggle campaign updates notifications"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(S,{children:"Goal Progress"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Weekly updates on goal achievements"})]}),e.jsx($,{checked:t.goalProgress,onCheckedChange:()=>f("goalProgress"),"aria-label":"Toggle goal progress notifications"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(S,{children:"Team Activity"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Notifications about team member activities"})]}),e.jsx($,{checked:t.teamActivity,onCheckedChange:()=>f("teamActivity"),"aria-label":"Toggle team activity notifications"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(S,{children:"Weekly Reports"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive weekly performance reports"})]}),e.jsx($,{checked:t.weeklyReports,onCheckedChange:()=>f("weeklyReports"),"aria-label":"Toggle weekly reports notifications"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(S,{children:"Mentions"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"When someone mentions you in comments"})]}),e.jsx($,{checked:t.mentions,onCheckedChange:()=>f("mentions"),"aria-label":"Toggle mentions notifications"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(S,{children:"Task Assignments"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"When you are assigned to a new task"})]}),e.jsx($,{checked:t.taskAssignments,onCheckedChange:()=>f("taskAssignments"),"aria-label":"Toggle task assignments notifications"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(S,{children:"Urgent Alerts"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Critical system alerts and notifications"})]}),e.jsx($,{checked:t.urgentAlerts,onCheckedChange:()=>f("urgentAlerts"),"aria-label":"Toggle urgent alerts notifications"})]})]})]})]})}function Gs({integrations:r,onToggleConnection:c}){return!r||r.length===0?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Integrations"}),e.jsx("p",{className:"text-muted-foreground",children:"Connect your social media accounts and other services"})]}),e.jsxs("div",{className:"text-center py-10",children:[e.jsx("p",{className:"text-muted-foreground",children:"No integrations available at the moment."}),e.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Please check back later or contact support."})]})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Integrations"}),e.jsx("p",{className:"text-muted-foreground",children:"Connect your social media accounts and other services"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:r.map(t=>{const k=t.icon;return e.jsxs(d,{className:"p-4",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:`p-2 rounded-lg ${t.connected?"bg-primary/10":"bg-muted"}`,children:e.jsx(k,{className:`h-6 w-6 ${t.color}`})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:t.name}),e.jsx("p",{className:"text-sm text-muted-foreground",children:t.description})]})]}),e.jsx(Q,{variant:t.connected?"default":"secondary",className:t.connected?"bg-green-500":"",children:t.connected?e.jsxs("span",{className:"flex items-center",children:[e.jsx(js,{className:"h-3 w-3 mr-1"}),"Connected"]}):e.jsxs("span",{className:"flex items-center",children:[e.jsx(pe,{className:"h-3 w-3 mr-1"}),"Not Connected"]})})]}),e.jsx("div",{className:"flex justify-end mt-4",children:e.jsx(h,{variant:t.connected?"outline":"default",size:"sm",onClick:()=>c(t.id),children:t.connected?"Disconnect":"Connect"})})]},t.id)})})]})}function $s({isOpen:r,onClose:c,onSubmit:t,onInvite:k,member:u}){const[x,f]=n.useState({name:"",email:"",role:"CONTRIBUTOR",password:""}),[I,C]=n.useState(""),[R,P]=n.useState(!1),[j,m]=n.useState(null),[E,T]=n.useState(null),[F,D]=n.useState(!1),[p,L]=n.useState({});n.useEffect(()=>{u?(f({name:u.name||"",email:u.email||"",role:u.role||"CONTRIBUTOR",password:""}),m(u.avatar||null)):(f({name:"",email:"",role:"CONTRIBUTOR",password:""}),m(null)),T(null),L({}),C(""),P(!1)},[u,r]);const i=(y,B)=>{f(z=>({...z,[y]:B})),p[y]&&L(z=>{const V={...z};return delete V[y],V})},U=()=>{const y={};return x.name.trim()||(y.name="Name is required"),x.email.trim()?/\S+@\S+\.\S+/.test(x.email)||(y.email="Email is invalid"):y.email="Email is required",!u&&!x.password?y.password="Password is required":x.password&&x.password.length<8&&(y.password="Password must be at least 8 characters"),L(y),Object.keys(y).length===0},O=()=>{const y=document.createElement("input");y.type="file",y.accept="image/*",y.onchange=B=>{const z=B.target.files?.[0];if(z){if(!z.type.startsWith("image/")){l({title:"Invalid File Type",description:"Please select an image file.",variant:"destructive"});return}if(z.size>5*1024*1024){l({title:"File Too Large",description:"Please select an image file smaller than 5MB.",variant:"destructive"});return}T(z);const V=new FileReader;V.onload=X=>{m(X.target?.result)},V.readAsDataURL(z)}},y.click()},Y=()=>{m(null),T(null)},J=async y=>{if(y.preventDefault(),!U()){l({title:"Validation Error",description:"Please fix the errors in the form before submitting.",variant:"destructive"});return}D(!0);try{if(!u&&!x.password&&k){const B=await k(x.email,x.role);C(B.invitationLink),P(!0),l({title:"Invitation Sent",description:`Invitation sent to ${x.email}. Copy the link and send it to the team member.`})}else{const B={name:x.name,email:x.email,role:x.role};if(!u&&x.password&&(B.password=x.password),E)try{const{assetService:z}=await K(async()=>{const{assetService:X}=await import("./index-KUMPN-_-.js").then(ce=>ce.ap);return{assetService:X}},__vite__mapDeps([0,1]),import.meta.url),V=await z.upload(E);V&&(B.avatar=V.url)}catch(z){console.error("Error uploading avatar:",z),l({title:"Avatar Upload Failed",description:"Failed to upload avatar. Member will be created without avatar.",variant:"destructive"})}else j&&!E&&(B.avatar=j);await t(B),c(),l({title:u?"Member Updated":"Member Added",description:u?"Team member has been updated successfully.":"New team member has been added successfully."})}}catch(B){console.error("Error submitting form:",B),l({title:"Error",description:B.response?.data?.message||(u?"Failed to update team member. Please try again.":"Failed to add team member. Please try again."),variant:"destructive"})}finally{D(!1)}};return r?e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:e.jsxs(d,{className:"w-full max-w-md p-6 relative",children:[e.jsx("button",{onClick:c,className:"absolute top-4 right-4 p-1 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800","aria-label":"Close",children:e.jsx(pe,{className:"h-5 w-5"})}),e.jsx("h2",{className:"text-2xl font-bold mb-6",children:u?"Edit Team Member":"Add Team Member"}),e.jsxs("form",{onSubmit:J,className:"space-y-4",children:[e.jsxs("div",{className:"flex flex-col items-center mb-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-20 h-20 rounded-full bg-primary/10 flex items-center justify-center cursor-pointer relative overflow-hidden",onClick:O,"aria-label":"Change profile picture",role:"button",children:j?e.jsx("img",{src:j,alt:"Profile preview",className:"w-full h-full object-cover"}):e.jsx(ge,{className:"h-10 w-10 text-primary"})}),j&&e.jsx("button",{type:"button",onClick:Y,className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1","aria-label":"Remove avatar",children:e.jsx(pe,{className:"h-3 w-3"})})]}),e.jsx(h,{type:"button",variant:"outline",size:"sm",className:"mt-2",onClick:O,children:j?"Change Avatar":"Upload Avatar"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(S,{htmlFor:"name",children:"Full Name *"}),e.jsx(M,{id:"name",value:x.name,onChange:y=>i("name",y.target.value),"aria-invalid":!!p.name,"aria-describedby":p.name?"name-error":void 0}),p.name&&e.jsx("p",{id:"name-error",className:"text-sm text-red-500",children:p.name})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(S,{htmlFor:"email",children:"Email *"}),e.jsx(M,{id:"email",type:"email",value:x.email,onChange:y=>i("email",y.target.value),"aria-invalid":!!p.email,"aria-describedby":p.email?"email-error":void 0}),p.email&&e.jsx("p",{id:"email-error",className:"text-sm text-red-500",children:p.email})]}),!u&&!R&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(S,{htmlFor:"password",children:"Password (leave blank to send invitation) *"}),e.jsx(M,{id:"password",type:"password",value:x.password,onChange:y=>i("password",y.target.value),"aria-invalid":!!p.password,"aria-describedby":p.password?"password-error":void 0}),p.password&&e.jsx("p",{id:"password-error",className:"text-sm text-red-500",children:p.password}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Leave password blank to send an invitation link via email. The team member will set their own password."})]}),R&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(S,{children:"Invitation Link"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(M,{value:I,readOnly:!0}),e.jsx(h,{type:"button",onClick:()=>{navigator.clipboard.writeText(I),l({title:"Copied",description:"Invitation link copied to clipboard."})},children:"Copy"})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Copy this link and send it to the team member. They will be able to set their password and access the platform."})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(S,{htmlFor:"role",children:"Role"}),e.jsxs(Fe,{value:x.role,onValueChange:y=>i("role",y),children:[e.jsx(Ue,{children:e.jsx(De,{placeholder:"Select a role"})}),e.jsxs(Le,{children:[e.jsx(Z,{value:"ADMIN",children:"Admin"}),e.jsx(Z,{value:"MANAGER",children:"Manager"}),e.jsx(Z,{value:"CONTRIBUTOR",children:"Contributor"}),e.jsx(Z,{value:"VIEWER",children:"Viewer"})]})]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[x.role==="ADMIN"&&"Full access to all platform features and settings",x.role==="MANAGER"&&"Can manage content and team members",x.role==="CONTRIBUTOR"&&"Can create and edit their own content",x.role==="VIEWER"&&"Can view content and analytics only"]})]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[e.jsx(h,{type:"button",variant:"outline",onClick:c,children:"Cancel"}),e.jsx(h,{type:"submit",disabled:F,children:F?"Saving...":u?"Update Member":"Add Member"})]})]})]})}):null}function Ys({users:r,onUsersUpdate:c}){const[t,k]=n.useState([]),[u,x]=n.useState(!0),[f,I]=n.useState(null);n.useEffect(()=>{C()},[]);const C=async()=>{try{x(!0);const m=await Ie.getRoleStats();k(m.map(E=>({role:E.role,count:E.count})))}catch(m){console.error("Error loading role stats:",m),l({title:"Error",description:"Failed to load role statistics. Please try again.",variant:"destructive"})}finally{x(!1)}},R=async(m,E)=>{try{I(m),await Ie.updateRole(m,E),l({title:"Role Updated",description:"User role has been updated successfully."}),c(),C()}catch(T){console.error("Error updating user role:",T),l({title:"Error",description:T.message||"Failed to update user role. Please try again.",variant:"destructive"})}finally{I(null)}},P=m=>{switch(m){case"ADMIN":return"destructive";case"MANAGER":return"default";case"CONTRIBUTOR":return"secondary";case"VIEWER":return"outline";default:return"secondary"}},j=m=>{switch(m){case"ADMIN":return"Full access to all features and settings";case"MANAGER":return"Can manage content and team members";case"CONTRIBUTOR":return"Can create and edit their own content";case"VIEWER":return"Can view content and analytics only";default:return""}};return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:u?e.jsx("div",{className:"col-span-4 text-center py-4",children:"Loading role statistics..."}):t&&t.length>0?t.map(m=>e.jsxs(d,{className:"p-4",children:[e.jsx("div",{className:"text-2xl font-bold",children:m.count}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(Q,{variant:P(m.role),children:m.role})}),e.jsx("div",{className:"text-sm text-muted-foreground mt-1",children:j(m.role)})]},m.role)):e.jsx("div",{className:"col-span-4 text-center py-4 text-muted-foreground",children:"No role statistics available"})}),e.jsxs(d,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Role Access Permissions"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b",children:[e.jsx("th",{className:"text-left p-2",children:"Function/Page"}),e.jsx("th",{className:"text-center p-2",children:"ADMIN"}),e.jsx("th",{className:"text-center p-2",children:"MANAGER"}),e.jsx("th",{className:"text-center p-2",children:"CONTRIBUTOR"}),e.jsx("th",{className:"text-center p-2",children:"VIEWER"})]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{className:"border-b",children:[e.jsx("td",{className:"p-2 font-medium",children:"Dashboard"}),e.jsx("td",{className:"text-center p-2",children:"✅"}),e.jsx("td",{className:"text-center p-2",children:"✅"}),e.jsx("td",{className:"text-center p-2",children:"✅"}),e.jsx("td",{className:"text-center p-2",children:"✅"})]}),e.jsxs("tr",{className:"border-b",children:[e.jsx("td",{className:"p-2 font-medium",children:"Campaign Management"}),e.jsx("td",{className:"text-center p-2",children:"✅"}),e.jsx("td",{className:"text-center p-2",children:"✅"}),e.jsx("td",{className:"text-center p-2",children:"❌"}),e.jsx("td",{className:"text-center p-2",children:"❌"})]}),e.jsxs("tr",{className:"border-b",children:[e.jsx("td",{className:"p-2 font-medium",children:"Post Creation/Edit"}),e.jsx("td",{className:"text-center p-2",children:"✅"}),e.jsx("td",{className:"text-center p-2",children:"✅"}),e.jsx("td",{className:"text-center p-2",children:"✅"}),e.jsx("td",{className:"text-center p-2",children:"❌"})]}),e.jsxs("tr",{className:"border-b",children:[e.jsx("td",{className:"p-2 font-medium",children:"Task Management"}),e.jsx("td",{className:"text-center p-2",children:"✅"}),e.jsx("td",{className:"text-center p-2",children:"✅"}),e.jsx("td",{className:"text-center p-2",children:"✅"}),e.jsx("td",{className:"text-center p-2",children:"View Only"})]}),e.jsxs("tr",{className:"border-b",children:[e.jsx("td",{className:"p-2 font-medium",children:"Goal Management"}),e.jsx("td",{className:"text-center p-2",children:"✅"}),e.jsx("td",{className:"text-center p-2",children:"✅"}),e.jsx("td",{className:"text-center p-2",children:"✅"}),e.jsx("td",{className:"text-center p-2",children:"❌"})]}),e.jsxs("tr",{className:"border-b",children:[e.jsx("td",{className:"p-2 font-medium",children:"Asset Management"}),e.jsx("td",{className:"text-center p-2",children:"✅"}),e.jsx("td",{className:"text-center p-2",children:"✅"}),e.jsx("td",{className:"text-center p-2",children:"✅"}),e.jsx("td",{className:"text-center p-2",children:"❌"})]}),e.jsxs("tr",{className:"border-b",children:[e.jsx("td",{className:"p-2 font-medium",children:"Ambassador Management"}),e.jsx("td",{className:"text-center p-2",children:"✅"}),e.jsx("td",{className:"text-center p-2",children:"✅"}),e.jsx("td",{className:"text-center p-2",children:"❌"}),e.jsx("td",{className:"text-center p-2",children:"❌"})]}),e.jsxs("tr",{className:"border-b",children:[e.jsx("td",{className:"p-2 font-medium",children:"Analytics Access"}),e.jsx("td",{className:"text-center p-2",children:"✅"}),e.jsx("td",{className:"text-center p-2",children:"✅"}),e.jsx("td",{className:"text-center p-2",children:"Limited"}),e.jsx("td",{className:"text-center p-2",children:"Public Only"})]}),e.jsxs("tr",{className:"border-b",children:[e.jsx("td",{className:"p-2 font-medium",children:"User Management"}),e.jsx("td",{className:"text-center p-2",children:"✅"}),e.jsx("td",{className:"text-center p-2",children:"❌"}),e.jsx("td",{className:"text-center p-2",children:"❌"}),e.jsx("td",{className:"text-center p-2",children:"❌"})]}),e.jsxs("tr",{className:"border-b",children:[e.jsx("td",{className:"p-2 font-medium",children:"Role Management"}),e.jsx("td",{className:"text-center p-2",children:"✅"}),e.jsx("td",{className:"text-center p-2",children:"❌"}),e.jsx("td",{className:"text-center p-2",children:"❌"}),e.jsx("td",{className:"text-center p-2",children:"❌"})]}),e.jsxs("tr",{className:"border-b",children:[e.jsx("td",{className:"p-2 font-medium",children:"System Settings"}),e.jsx("td",{className:"text-center p-2",children:"✅"}),e.jsx("td",{className:"text-center p-2",children:"❌"}),e.jsx("td",{className:"text-center p-2",children:"❌"}),e.jsx("td",{className:"text-center p-2",children:"❌"})]}),e.jsxs("tr",{className:"border-b",children:[e.jsx("td",{className:"p-2 font-medium",children:"Billing Management"}),e.jsx("td",{className:"text-center p-2",children:"✅"}),e.jsx("td",{className:"text-center p-2",children:"❌"}),e.jsx("td",{className:"text-center p-2",children:"❌"}),e.jsx("td",{className:"text-center p-2",children:"❌"})]}),e.jsxs("tr",{className:"border-b",children:[e.jsx("td",{className:"p-2 font-medium",children:"Security Settings"}),e.jsx("td",{className:"text-center p-2",children:"✅"}),e.jsx("td",{className:"text-center p-2",children:"❌"}),e.jsx("td",{className:"text-center p-2",children:"❌"}),e.jsx("td",{className:"text-center p-2",children:"❌"})]})]})]})}),e.jsx("div",{className:"mt-4 text-sm text-muted-foreground",children:e.jsx("p",{children:"✅ = Full Access | ❌ = No Access | View Only = Read-only access | Limited = Restricted access"})})]}),e.jsxs(d,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Role-Based Access Control"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"This system implements role-based access control to ensure users have appropriate access to perform their job functions while maintaining security. Only ADMIN users can manage roles and permissions."}),e.jsx("div",{className:"space-y-4",children:r&&r.length>0?r.map(m=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[m.avatar?e.jsx("img",{src:m.avatar,alt:m.name,className:"w-10 h-10 rounded-full object-cover"}):e.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center",children:e.jsx("span",{className:"text-primary font-medium",children:m.name?.charAt(0).toUpperCase()})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold",children:m.name}),e.jsx("p",{className:"text-sm text-muted-foreground",children:m.email})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(Fe,{value:m.role,onValueChange:E=>R(m.id,E),disabled:f===m.id,children:[e.jsx(Ue,{className:"w-32",children:e.jsx(De,{placeholder:"Select role"})}),e.jsxs(Le,{children:[e.jsx(Z,{value:"ADMIN",children:"Admin"}),e.jsx(Z,{value:"MANAGER",children:"Manager"}),e.jsx(Z,{value:"CONTRIBUTOR",children:"Contributor"}),e.jsx(Z,{value:"VIEWER",children:"Viewer"})]})]}),f===m.id&&e.jsx("div",{className:"w-4 h-4 border-2 border-primary border-t-transparent rounded-full animate-spin"})]})]},m.id)):e.jsx("div",{className:"text-center py-4 text-muted-foreground",children:"No users available"})})]})]})}function Ks(){const[r,c]=n.useState("overview"),[t,k]=n.useState(""),[u,x]=n.useState(""),[f,I]=n.useState(""),[C,R]=n.useState(!1),P=[{id:"1",question:"How do I reset my password?",answer:`You can reset your password by going to Settings > Security > Change Password. If you've forgotten your current password, use the "Forgot Password" link on the login page.`,category:"Account"},{id:"2",question:"How do I invite team members?",answer:'Go to Settings > Team and click "Invite Member". Enter their email address and select their role. They will receive an email invitation to join your workspace.',category:"Team Management"},{id:"3",question:"How do I create a new campaign?",answer:'Navigate to Goals & Campaigns and click the "New Campaign" button. Fill in the campaign details, set your goals, and assign team members to get started.',category:"Campaigns"},{id:"4",question:"How do I connect social media accounts?",answer:'Go to Settings > Integrations and click "Connect" next to the social media platform you want to connect. Follow the authentication flow to authorize access.',category:"Integrations"},{id:"5",question:"How do I export reports?",answer:'In the Analytics section, select the data range and metrics you want to export. Click the "Export" button and choose your preferred format (PDF, CSV, or Excel).',category:"Analytics"},{id:"6",question:"What are the system requirements?",answer:"Winnerforce works on all modern browsers (Chrome, Firefox, Safari, Edge). For the best experience, keep your browser updated. Mobile apps are available for iOS and Android.",category:"Technical"}],j=[{id:"001",subject:"Unable to connect Instagram account",description:"I'm having trouble connecting my Instagram business account to Winnerforce.",status:"in-progress",createdAt:"2023-06-15T10:30:00Z",updatedAt:"2023-06-15T14:22:00Z"},{id:"002",subject:"Report generation is slow",description:"Generating monthly reports takes longer than expected.",status:"open",createdAt:"2023-06-10T09:15:00Z",updatedAt:"2023-06-10T09:15:00Z"}],m=P.filter(i=>i.question.toLowerCase().includes(t.toLowerCase())||i.answer.toLowerCase().includes(t.toLowerCase())||i.category.toLowerCase().includes(t.toLowerCase())),E=async i=>{i.preventDefault(),R(!0);try{await new Promise(U=>setTimeout(U,1e3)),l({title:"Support Ticket Submitted",description:"We've received your request and will get back to you within 24 hours."}),x(""),I("")}catch{l({title:"Error",description:"Failed to submit support ticket. Please try again.",variant:"destructive"})}finally{R(!1)}},T=i=>{switch(i){case"open":return"default";case"in-progress":return"secondary";case"resolved":return"default";case"closed":return"outline";default:return"default"}},F=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs(d,{className:"hover:shadow-md transition-shadow cursor-pointer",onClick:()=>c("faq"),children:[e.jsxs(b,{children:[e.jsxs(w,{className:"flex items-center gap-2",children:[e.jsx(fe,{className:"w-5 h-5"}),"Frequently Asked Questions"]}),e.jsx(G,{children:"Find answers to common questions about using Winnerforce"})]}),e.jsx(N,{children:e.jsxs(h,{variant:"outline",children:["Browse FAQ ",e.jsx(he,{className:"w-4 h-4 ml-2"})]})})]}),e.jsxs(d,{className:"hover:shadow-md transition-shadow cursor-pointer",onClick:()=>c("contact"),children:[e.jsxs(b,{children:[e.jsxs(w,{className:"flex items-center gap-2",children:[e.jsx(gs,{className:"w-5 h-5"}),"Contact Support"]}),e.jsx(G,{children:"Get help from our support team"})]}),e.jsx(N,{children:e.jsxs(h,{variant:"outline",children:["Submit Request ",e.jsx(he,{className:"w-4 h-4 ml-2"})]})})]}),e.jsxs(d,{children:[e.jsxs(b,{children:[e.jsxs(w,{className:"flex items-center gap-2",children:[e.jsx(Ms,{className:"w-5 h-5"}),"Documentation"]}),e.jsx(G,{children:"Comprehensive guides and tutorials"})]}),e.jsx(N,{children:e.jsx(h,{variant:"outline",onClick:()=>window.open("/docs","_blank"),children:"View Documentation"})})]}),e.jsxs(d,{className:"hover:shadow-md transition-shadow cursor-pointer",onClick:()=>c("community"),children:[e.jsxs(b,{children:[e.jsxs(w,{className:"flex items-center gap-2",children:[e.jsx(je,{className:"w-5 h-5"}),"Community"]}),e.jsx(G,{children:"Connect with other Winnerforce users"})]}),e.jsx(N,{children:e.jsxs(h,{variant:"outline",children:["Join Community ",e.jsx(he,{className:"w-4 h-4 ml-2"})]})})]})]}),e.jsxs(d,{children:[e.jsx(b,{children:e.jsxs(w,{className:"flex items-center gap-2",children:[e.jsx(vs,{className:"w-5 h-5"}),"Contact Information"]})}),e.jsxs(N,{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-2",children:"Email Support"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"chadiech18@gmail.com"})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-2",children:"Phone Support"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"+961 81 445 964"})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-2",children:"Office Hours"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Mon-Fri, 9AM-5PM"})]})]})]})]}),D=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(ys,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),e.jsx(M,{placeholder:"Search FAQs...",value:t,onChange:i=>k(i.target.value),className:"pl-10"})]}),e.jsx(h,{onClick:()=>k(""),variant:"outline",children:"Clear"})]}),m.length>0?e.jsx("div",{className:"grid gap-4",children:m.map(i=>e.jsxs(d,{className:"transition-all hover:shadow-md",children:[e.jsx(b,{children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsx(w,{className:"text-lg",children:i.question}),e.jsx(Q,{variant:"secondary",children:i.category})]})}),e.jsx(N,{children:e.jsx("p",{className:"text-muted-foreground",children:i.answer})})]},i.id))}):e.jsx(d,{children:e.jsxs(N,{className:"py-8 text-center",children:[e.jsx(fe,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No FAQs Found"}),e.jsxs("p",{className:"text-muted-foreground",children:[`We couldn't find any FAQs matching "`,t,'". Try a different search term.']})]})})]}),p=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs(d,{children:[e.jsxs(b,{children:[e.jsx(w,{children:"Submit a Support Request"}),e.jsx(G,{children:"Our support team will get back to you within 24 hours"})]}),e.jsx(N,{children:e.jsxs("form",{onSubmit:E,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(S,{htmlFor:"subject",children:"Subject"}),e.jsx(M,{id:"subject",value:u,onChange:i=>x(i.target.value),placeholder:"Brief description of your issue",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(S,{htmlFor:"description",children:"Description"}),e.jsx(Ns,{id:"description",value:f,onChange:i=>I(i.target.value),placeholder:"Please provide as much detail as possible about your issue",rows:5,required:!0})]}),e.jsx(h,{type:"submit",disabled:C,children:C?e.jsxs(e.Fragment,{children:[e.jsx(ze,{className:"w-4 h-4 mr-2 animate-spin"}),"Submitting..."]}):"Submit Request"})]})})]}),e.jsxs(d,{children:[e.jsxs(b,{children:[e.jsx(w,{children:"Your Support Tickets"}),e.jsx(G,{children:"Track the status of your support requests"})]}),e.jsx(N,{children:j.length>0?e.jsx("div",{className:"space-y-4",children:j.map(i=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:i.subject}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Submitted: ",new Date(i.createdAt).toLocaleDateString()]})]}),e.jsx(Q,{variant:T(i.status),children:i.status.replace("-"," ")})]},i.id))}):e.jsx("p",{className:"text-muted-foreground text-center py-4",children:"You haven't submitted any support tickets yet."})})]})]}),L=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs(d,{children:[e.jsxs(b,{children:[e.jsxs(w,{className:"flex items-center gap-2",children:[e.jsx(je,{className:"w-5 h-5"}),"Winnerforce Community"]}),e.jsx(G,{children:"Connect with other users, share tips, and get advice"})]}),e.jsxs(N,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold",children:"Knowledge Base"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Articles and guides written by our team and community"})]}),e.jsx(h,{variant:"outline",children:"Browse"})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold",children:"User Forum"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Ask questions and discuss with other users"})]}),e.jsx(h,{variant:"outline",children:"Join Discussion"})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold",children:"Community Events"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Webinars, workshops, and meetups"})]}),e.jsx(h,{variant:"outline",children:"View Events"})]})]})]}),e.jsxs(d,{children:[e.jsx(b,{children:e.jsxs(w,{className:"flex items-center gap-2",children:[e.jsx(bs,{className:"w-5 h-5"}),"Community Guidelines"]})}),e.jsx(N,{children:e.jsxs("ul",{className:"space-y-2 text-sm",children:[e.jsx("li",{children:"• Be respectful and constructive in all interactions"}),e.jsx("li",{children:"• Search before posting to avoid duplicates"}),e.jsx("li",{children:"• Provide context when asking for help"}),e.jsx("li",{children:"• Share knowledge and help others when possible"}),e.jsx("li",{children:"• Report inappropriate content to moderators"})]})})]})]});return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Help & Support"}),e.jsx("p",{className:"text-muted-foreground",children:"Get help with using Winnerforce and connect with our community"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(h,{variant:r==="overview"?"default":"outline",size:"sm",onClick:()=>c("overview"),children:"Overview"}),e.jsx(h,{variant:r==="faq"?"default":"outline",size:"sm",onClick:()=>c("faq"),children:"FAQ"}),e.jsx(h,{variant:r==="contact"?"default":"outline",size:"sm",onClick:()=>c("contact"),children:"Contact"}),e.jsx(h,{variant:r==="community"?"default":"outline",size:"sm",onClick:()=>c("community"),children:"Community"})]})]}),r==="overview"&&F(),r==="faq"&&D(),r==="contact"&&p(),r==="community"&&L()]})}function Qs(){return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Terms of Service"}),e.jsxs("p",{className:"text-muted-foreground",children:["Last updated: ",new Date().toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})]})]}),e.jsxs(h,{variant:"outline",onClick:()=>window.print(),children:[e.jsx(le,{className:"h-4 w-4 mr-2"}),"Print Terms"]})]}),e.jsxs(d,{children:[e.jsxs(b,{children:[e.jsx(w,{children:"1. Acceptance of Terms"}),e.jsx(G,{children:"By accessing or using Winnerforce Spark, you agree to be bound by these Terms of Service."})]}),e.jsx(N,{children:e.jsx("p",{className:"text-muted-foreground",children:'These Terms of Service ("Terms") govern your access to and use of the Winnerforce Spark platform, including any content, functionality, and services offered on or through our website and application (collectively, the "Service"). Please read these Terms carefully before using the Service.'})})]}),e.jsxs(d,{children:[e.jsx(b,{children:e.jsx(w,{children:"2. Description of Service"})}),e.jsxs(N,{children:[e.jsx("p",{className:"text-muted-foreground mb-4",children:"Winnerforce Spark is a social media management and ambassador marketing platform that helps businesses manage their social media presence, track ambassador performance, and organize marketing campaigns."}),e.jsx("p",{className:"text-muted-foreground",children:"The Service includes features such as content scheduling, analytics, team collaboration tools, ambassador management, asset organization, and integration with various social media platforms."})]})]}),e.jsxs(d,{children:[e.jsx(b,{children:e.jsx(w,{children:"3. User Accounts"})}),e.jsxs(N,{children:[e.jsx("p",{className:"text-muted-foreground mb-4",children:"To access certain features of the Service, you may be required to create an account. You agree to:"}),e.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground",children:[e.jsx("li",{children:"Provide accurate, current, and complete information during registration"}),e.jsx("li",{children:"Maintain and promptly update your account information"}),e.jsx("li",{children:"Maintain the security of your account credentials"}),e.jsx("li",{children:"Notify us immediately of any unauthorized use of your account"}),e.jsx("li",{children:"Accept responsibility for all activities that occur under your account"})]})]})]}),e.jsxs(d,{children:[e.jsx(b,{children:e.jsx(w,{children:"4. User Content"})}),e.jsxs(N,{children:[e.jsx("p",{className:"text-muted-foreground mb-4",children:'You retain all rights to any content you upload, post, or display on or through the Service ("User Content"). By posting User Content, you grant us a worldwide, non-exclusive, royalty-free license to use, reproduce, adapt, publish, translate, and distribute your User Content in any existing or future media.'}),e.jsx("p",{className:"text-muted-foreground",children:"You represent and warrant that you have the right to grant these rights to us, and that your User Content does not infringe the rights of any third party."})]})]}),e.jsxs(d,{children:[e.jsx(b,{children:e.jsx(w,{children:"5. Intellectual Property"})}),e.jsxs(N,{children:[e.jsx("p",{className:"text-muted-foreground mb-4",children:"The Service and its original content, features, and functionality are owned by Winnerforce Spark and are protected by international copyright, trademark, patent, trade secret, and other intellectual property or proprietary rights laws."}),e.jsx("p",{className:"text-muted-foreground",children:"The Winnerforce Spark name, logo, and all related names, logos, product and service names, designs, and slogans are trademarks of Winnerforce Spark or its affiliates or licensors."})]})]}),e.jsxs(d,{children:[e.jsx(b,{children:e.jsx(w,{children:"6. Termination"})}),e.jsx(N,{children:e.jsx("p",{className:"text-muted-foreground",children:"We may terminate or suspend your account and bar access to the Service immediately, without prior notice or liability, under our sole discretion, for any reason whatsoever and without limitation, including but not limited to a breach of the Terms."})})]}),e.jsxs(d,{children:[e.jsx(b,{children:e.jsx(w,{children:"7. Disclaimer of Warranties"})}),e.jsx(N,{children:e.jsx("p",{className:"text-muted-foreground",children:'The Service is provided on an "AS IS" and "AS AVAILABLE" basis. The Service is provided without warranties of any kind, whether express or implied, including, but not limited to, implied warranties of merchantability, fitness for a particular purpose, non-infringement, or course of performance.'})})]}),e.jsxs(d,{children:[e.jsx(b,{children:e.jsx(w,{children:"8. Limitation of Liability"})}),e.jsx(N,{children:e.jsx("p",{className:"text-muted-foreground",children:"In no event shall Winnerforce Spark, nor its directors, employees, partners, agents, suppliers, or affiliates, be liable for any indirect, incidental, special, consequential, or punitive damages, including without limitation, loss of profits, data, use, goodwill, or other intangible losses, resulting from your access to or use of or inability to access or use the Service."})})]}),e.jsxs(d,{children:[e.jsx(b,{children:e.jsx(w,{children:"9. Governing Law"})}),e.jsx(N,{children:e.jsx("p",{className:"text-muted-foreground",children:"These Terms shall be governed and construed in accordance with the laws of [Your Jurisdiction], without regard to its conflict of law provisions."})})]}),e.jsxs(d,{children:[e.jsx(b,{children:e.jsx(w,{children:"10. Changes to Terms"})}),e.jsx(N,{children:e.jsx("p",{className:"text-muted-foreground",children:"We reserve the right, at our sole discretion, to modify or replace these Terms at any time. If a revision is material, we will provide at least 30 days' notice prior to any new terms taking effect. What constitutes a material change will be determined at our sole discretion."})})]})]})}function Zs(){return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Privacy Policy"}),e.jsxs("p",{className:"text-muted-foreground",children:["Last updated: ",new Date().toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})]})]}),e.jsxs(h,{variant:"outline",onClick:()=>window.print(),children:[e.jsx(le,{className:"h-4 w-4 mr-2"}),"Print Policy"]})]}),e.jsxs(d,{children:[e.jsxs(b,{children:[e.jsx(w,{children:"1. Information We Collect"}),e.jsx(G,{children:"We collect information to provide better services to all our users."})]}),e.jsxs(N,{children:[e.jsx("h4",{className:"font-semibold mb-2",children:"Personal Information"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"We collect personal information that you provide to us, including:"}),e.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground mb-4",children:[e.jsx("li",{children:"Name and contact information"}),e.jsx("li",{children:"Email address and password"}),e.jsx("li",{children:"Company or organization information"}),e.jsx("li",{children:"Payment information"}),e.jsx("li",{children:"Profile picture and biographical information"})]}),e.jsx("h4",{className:"font-semibold mb-2",children:"Usage Information"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"We collect information about how you use our Service, including:"}),e.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground mb-4",children:[e.jsx("li",{children:"Access times and duration of visits"}),e.jsx("li",{children:"Features and content you interact with"}),e.jsx("li",{children:"Device information (browser type, operating system, etc.)"}),e.jsx("li",{children:"IP address and general location information"}),e.jsx("li",{children:"Error logs and diagnostic information"})]}),e.jsx("h4",{className:"font-semibold mb-2",children:"Social Media Information"}),e.jsx("p",{className:"text-muted-foreground",children:"When you connect social media accounts to our Service, we may collect:"}),e.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground",children:[e.jsx("li",{children:"Profile information from connected social media accounts"}),e.jsx("li",{children:"Content you post or share through our Service to social media"}),e.jsx("li",{children:"Analytics and engagement data from social media platforms"})]})]})]}),e.jsxs(d,{children:[e.jsx(b,{children:e.jsx(w,{children:"2. How We Use Information"})}),e.jsxs(N,{children:[e.jsx("p",{className:"text-muted-foreground mb-4",children:"We use the information we collect to:"}),e.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground",children:[e.jsx("li",{children:"Provide, maintain, and improve our Service"}),e.jsx("li",{children:"Personalize your experience and customize content"}),e.jsx("li",{children:"Process transactions and send related information"}),e.jsx("li",{children:"Send technical notices, updates, and security alerts"}),e.jsx("li",{children:"Respond to your comments, questions, and requests"}),e.jsx("li",{children:"Monitor and analyze trends, usage, and activities"}),e.jsx("li",{children:"Detect, investigate, and prevent fraudulent transactions"}),e.jsx("li",{children:"Comply with legal obligations and protect our rights"})]})]})]}),e.jsxs(d,{children:[e.jsx(b,{children:e.jsx(w,{children:"3. Sharing of Information"})}),e.jsxs(N,{children:[e.jsx("p",{className:"text-muted-foreground mb-4",children:"We may share information in the following circumstances:"}),e.jsx("h4",{className:"font-semibold mb-2",children:"With Your Consent"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"We may share your information with third parties when you give us consent to do so."}),e.jsx("h4",{className:"font-semibold mb-2",children:"Service Providers"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"We may share information with vendors, consultants, and other service providers who need access to such information to carry out work on our behalf."}),e.jsx("h4",{className:"font-semibold mb-2",children:"Legal Requirements"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"We may disclose your information if required to do so by law or in response to valid requests by public authorities."}),e.jsx("h4",{className:"font-semibold mb-2",children:"Business Transfers"}),e.jsx("p",{className:"text-muted-foreground",children:"We may share or transfer your information in connection with, or during negotiations of, any merger, sale of company assets, financing, or acquisition of all or a portion of our business to another company."})]})]}),e.jsxs(d,{children:[e.jsx(b,{children:e.jsx(w,{children:"4. Data Security"})}),e.jsx(N,{children:e.jsx("p",{className:"text-muted-foreground",children:"We implement appropriate technical and organizational measures to protect the security of your personal information. However, please note that no method of transmission over the Internet or method of electronic storage is 100% secure."})})]}),e.jsxs(d,{children:[e.jsx(b,{children:e.jsx(w,{children:"5. Data Retention"})}),e.jsx(N,{children:e.jsx("p",{className:"text-muted-foreground",children:"We retain your personal information for as long as necessary to provide our Service, comply with legal obligations, resolve disputes, and enforce our agreements. The retention period depends on the purpose for which the data was collected."})})]}),e.jsxs(d,{children:[e.jsx(b,{children:e.jsx(w,{children:"6. Your Rights"})}),e.jsxs(N,{children:[e.jsx("p",{className:"text-muted-foreground mb-4",children:"Depending on your location, you may have certain rights regarding your personal information:"}),e.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground",children:[e.jsx("li",{children:"The right to access, update, or delete your personal information"}),e.jsx("li",{children:"The right to object to processing of your personal information"}),e.jsx("li",{children:"The right to request restriction of processing of your personal information"}),e.jsx("li",{children:"The right to data portability"}),e.jsx("li",{children:"The right to withdraw consent"})]})]})]}),e.jsxs(d,{children:[e.jsx(b,{children:e.jsx(w,{children:"7. Children's Privacy"})}),e.jsx(N,{children:e.jsx("p",{className:"text-muted-foreground",children:"Our Service does not address anyone under the age of 13. We do not knowingly collect personally identifiable information from anyone under the age of 13. If you are a parent or guardian and you are aware that your child has provided us with personal information, please contact us."})})]}),e.jsxs(d,{children:[e.jsx(b,{children:e.jsx(w,{children:"8. Changes to Privacy Policy"})}),e.jsx(N,{children:e.jsx("p",{className:"text-muted-foreground",children:'We may update our Privacy Policy from time to time. We will notify you of any changes by posting the new Privacy Policy on this page and updating the "Last updated" date.'})})]}),e.jsxs(d,{children:[e.jsx(b,{children:e.jsx(w,{children:"9. Contact Us"})}),e.jsxs(N,{children:[e.jsx("p",{className:"text-muted-foreground mb-4",children:"If you have any questions about this Privacy Policy, please contact us:"}),e.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-muted-foreground",children:[e.jsx("li",{children:"By email: privacy@winnerforcespark.com"}),e.jsx("li",{children:"By visiting this page on our website: winnerforcespark.com/contact"}),e.jsx("li",{children:"By mail: Winnerforce Spark, [Address], [City, State ZIP Code]"})]})]})]})]})}const xe={getBillingInfo:async()=>{try{return(await se.getBillingInfo()).data.data}catch(r){throw console.error("Error fetching billing information:",r),r}},updateSubscription:async r=>{try{return(await se.updateSubscription(r)).data.data}catch(c){throw console.error("Error updating subscription:",c),c}},updatePaymentMethod:async r=>{try{return(await se.updatePaymentMethod(r)).data.data}catch(c){throw console.error("Error updating payment method:",c),c}},getInvoiceHistory:async()=>{try{return(await se.getInvoiceHistory()).data.data}catch(r){throw console.error("Error fetching invoice history:",r),r}},addInvoice:async r=>{try{return(await se.addInvoice(r)).data.data}catch(c){throw console.error("Error adding invoice:",c),c}}},ae={getSecurityInfo:async()=>{try{return(await te.getSecurityInfo()).data.data}catch(r){throw console.error("Error fetching security information:",r),r}},changePassword:async(r,c)=>{try{await te.changePassword(r,c)}catch(t){throw console.error("Error changing password:",t),t}},toggleTwoFactorAuth:async r=>{try{return(await te.toggleTwoFactorAuth(r)).data}catch(c){throw console.error("Error toggling 2FA:",c),c}},revokeSession:async r=>{try{await te.revokeSession(r)}catch(c){throw console.error("Error revoking session:",c),c}},revokeAllSessions:async()=>{try{await te.revokeAllSessions()}catch(r){throw console.error("Error revoking all sessions:",r),r}}},tt=()=>{const[r,c]=n.useState({firstName:"",lastName:"",email:"",title:"",timezone:"",avatar:void 0}),{user:t,updateProfile:k,isLoading:u}=ws(),[x,f]=n.useState({campaignUpdates:!0,goalProgress:!0,teamActivity:!0,weeklyReports:!0,mentions:!0,taskAssignments:!0,urgentAlerts:!0}),[I,C]=n.useState([]),[R,P]=n.useState(!0),[j,m]=n.useState(!1),[E,T]=n.useState(!1),[F,D]=n.useState(null),[p,L]=n.useState(null),[i,U]=n.useState(!0),[O,Y]=n.useState([]),[J,y]=n.useState(null),[B,z]=n.useState(!0),[V,X]=n.useState(!1),[ce,de]=n.useState(!1),[He,ve]=n.useState(!1),Ge=Ss(),ye=ks(),[Js,$e]=n.useState([]),[Xs,et]=n.useState(!1),[Ne,be]=n.useState(!1),[H,me]=n.useState({email:"",role:"CONTRIBUTOR"}),Ye=async()=>{if(!H.email||!H.role){l({title:"Validation Error",description:"Please provide both email and role for the invitation",variant:"destructive"});return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(H.email)){l({title:"Validation Error",description:"Please provide a valid email address",variant:"destructive"});return}be(!0);try{const{invitationAPI:a}=await K(async()=>{const{invitationAPI:v}=await import("./index-KUMPN-_-.js").then(g=>g.ao);return{invitationAPI:v}},__vite__mapDeps([0,1]),import.meta.url),o=await a.inviteMember({email:H.email,role:H.role});if(o.data?.success)l({title:"Invitation Created",description:`Invitation created successfully. Share the link with ${H.email}.`}),o.data.data?.invitationLink&&navigator.clipboard.writeText(o.data.data.invitationLink).then(()=>{l({title:"Link Copied",description:"Invitation link copied to clipboard!"})}).catch(()=>{l({title:"Invitation Link",description:`Share this link: ${o.data.data.invitationLink}`})}),me({email:"",role:"CONTRIBUTOR"});else throw new Error(o.data?.message||"Failed to create invitation")}catch(a){console.error("Error creating invitation:",a),l({title:"Error",description:a.response?.data?.message||"Failed to create invitation. Please try again.",variant:"destructive"})}finally{be(!1)}},we=()=>new URLSearchParams(ye.search).get("tab")||"profile",[A,Se]=n.useState(we());if(n.useEffect(()=>{Se(we())},[ye.search]),n.useEffect(()=>{const s=a=>{console.error("Settings page error:",a),m(!0)};return window.addEventListener("error",s),()=>{window.removeEventListener("error",s)}},[]),n.useEffect(()=>{if(t&&!u)try{c({firstName:t.name?.split(" ")[0]||"",lastName:t.name?.split(" ").slice(1).join(" ")||"",email:t.email||"",title:t.role||"",timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,avatar:t.avatar||""})}catch(s){console.error("Error setting profile data:",s),c({firstName:"",lastName:"",email:t.email||"",title:t.role||"",timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,avatar:t.avatar||""})}},[t,u]),n.useEffect(()=>{A==="team"&&(async()=>{try{P(!0);const{userService:a}=await K(async()=>{const{userService:g}=await import("./index-KUMPN-_-.js").then(W=>W.ap);return{userService:g}},__vite__mapDeps([0,1]),import.meta.url),o=await a.getAll();let v=o;if(t?.role==="ADMIN"){const g=`admin_team_${t.id}`,W=localStorage.getItem(g);if(W){const _=JSON.parse(W);v=o.filter(q=>_.includes(q.id)||q.id===t.id)}else v=o}else t?.role==="MANAGER"?v=o.filter(g=>g.role==="CONTRIBUTOR"||g.role==="VIEWER"):t?.role==="CONTRIBUTOR"?v=o.filter(g=>g.role==="VIEWER"):v=[];C(v)}catch(a){console.error("Error loading team members:",a),l({title:"Error",description:"Failed to load team members. Please try again.",variant:"destructive"})}finally{P(!1)}})()},[A,t]),n.useEffect(()=>{A==="billing"&&(async()=>{try{U(!0);const a=await xe.getBillingInfo();L(a);const o=await xe.getInvoiceHistory();Y(o)}catch(a){console.error("Error loading billing data:",a),l({title:"Error",description:"Failed to load billing information. Please try again.",variant:"destructive"})}finally{U(!1)}})()},[A]),n.useEffect(()=>{A==="security"&&(async()=>{try{z(!0);const a=await ae.getSecurityInfo();y(a)}catch(a){console.error("Error loading security data:",a),l({title:"Error",description:"Failed to load security information. Please try again.",variant:"destructive"})}finally{z(!1)}})()},[A]),u)return e.jsx(ue,{children:e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsxs("div",{className:"text-center p-8",children:[e.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Loading..."}),e.jsx("p",{className:"text-muted-foreground",children:"Loading your settings"})]})})});if(j)return e.jsx(ue,{children:e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsxs("div",{className:"text-center p-8 bg-red-50 border border-red-200 rounded-lg max-w-md",children:[e.jsx("h2",{className:"text-2xl font-bold text-red-800 mb-2",children:"Something went wrong"}),e.jsx("p",{className:"text-red-700 mb-4",children:"There was an error loading the settings page. Please try refreshing the page."}),e.jsx(h,{onClick:()=>{m(!1),window.location.reload()},className:"bg-red-600 hover:bg-red-700",children:"Reload Page"})]})})});const Ke=[{id:"profile",label:"Profile",icon:ge},{id:"team",label:"Team",icon:je},{id:"roles",label:"Roles",icon:ne},{id:"notifications",label:"Notifications",icon:Es},{id:"integrations",label:"Integrations",icon:Ls},{id:"billing",label:"Billing",icon:Pe},{id:"security",label:"Security",icon:ne},{id:"help",label:"Help & Support",icon:fe},{id:"terms",label:"Terms of Service",icon:le},{id:"privacy",label:"Privacy Policy",icon:le}],[ke,re]=n.useState([{id:"instagram",name:"Instagram",description:"Connect your Instagram Business account",icon:()=>e.jsx("svg",{className:"h-6 w-6 text-pink-500",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"})}),connected:!0,color:"text-pink-500",connectionId:void 0},{id:"facebook",name:"Facebook",description:"Manage Facebook Pages and ads",icon:()=>e.jsx("svg",{className:"h-6 w-6 text-blue-600",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z"})}),connected:!0,color:"text-blue-600",connectionId:void 0},{id:"tiktok",name:"TikTok",description:"Schedule and publish TikTok videos",icon:()=>e.jsx("svg",{className:"h-6 w-6 text-black",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M12.525.02c1.31-.02 2.61-.01 3.91-.02.08 1.53.63 3.09 1.75 4.17 1.12 1.11 2.7 1.62 4.24 1.79v4.03c-1.44-.05-2.89-.35-4.2-.97-.57-.26-1.1-.59-1.62-.93-.01 2.92.01 5.84-.02 8.75-.08 1.4-.54 2.79-1.35 3.94-1.31 1.92-3.58 3.17-5.91 3.21-1.43.08-2.86-.31-4.08-1.03-2.02-1.19-3.44-3.37-3.65-5.71-.02-.5-.03-1-.01-1.49.18-1.9 1.12-3.72 2.58-4.96 1.66-1.44 3.98-2.13 6.15-1.72.02 1.48-.04 2.96-.04 4.44-.99-.32-2.15-.23-3.02.37-.63.41-1.11 1.04-1.36 1.75-.21.51-.15 1.07-.14 1.61.24 1.64 1.82 3.02 3.5 2.87 1.12-.01 2.19-.66 2.77-1.61.19-.33.4-.67.41-1.06.1-1.79.06-3.57.07-5.36.01-4.03-.01-8.05.02-12.07z"})}),connected:!1,color:"text-black",connectionId:void 0},{id:"youtube",name:"YouTube",description:"Upload and manage YouTube content",icon:()=>e.jsx("svg",{className:"h-6 w-6 text-red-500",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M19.615 3.184c-3.604-.246-11.631-.245-15.23 0-3.897.266-4.356 2.62-4.385 8.816.029 6.185.484 8.549 4.385 8.816 3.6.245 11.626.246 15.23 0 3.897-.266 4.356-2.62 4.385-8.816-.029-6.185-.484-8.549-4.385-8.816zm-10.615 12.816v-8l8 3.993-8 4.007z"})}),connected:!1,color:"text-red-500",connectionId:void 0},{id:"google-drive",name:"Google Drive",description:"Connect your Google Drive for file storage and sharing",icon:()=>e.jsx("svg",{className:"h-6 w-6 text-blue-500",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M23.894 14.429l-10.5 6.303c-.285.171-.629.265-.991.265-.362 0-.706-.094-.991-.265l-10.5-6.303C.332 14.082 0 13.494 0 12.857v-1.714c0-.637.332-1.225.906-1.572l10.5-6.303c.285-.171.629-.265.991-.265.362 0 .706.094.991.265l10.5 6.303c.574.347.906.935.906 1.572v1.714c0 .637-.332 1.225-.906 1.572zM12 4.286l-9.844 5.909 9.844 5.909 9.844-5.909L12 4.286z"})}),connected:!1,color:"text-blue-500",connectionId:void 0}]);n.useEffect(()=>{A==="integrations"&&(async()=>{try{const a=await ie.getAll(),o=await ie.getUserConnections();if(console.log("Available integrations:",a),console.log("User connections:",o),!a||a.length===0){console.warn("No integrations available"),re([]);return}const v=a.map(g=>{const W=o.find(ms=>ms.integrationId?.toString()===g.id?.toString());console.log(`Matching integration ${g.id} with connection:`,W);let _,q="text-gray-500";switch(g.key){case"instagram":_=()=>e.jsx("svg",{className:"h-6 w-6 text-pink-500",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"})}),q="text-pink-500";break;case"facebook":_=()=>e.jsx("svg",{className:"h-6 w-6 text-blue-600",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z"})}),q="text-blue-600";break;case"tiktok":_=()=>e.jsx("svg",{className:"h-6 w-6 text-black",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M12.525.02c1.31-.02 2.61-.01 3.91-.02.08 1.53.63 3.09 1.75 4.17 1.12 1.11 2.7 1.62 4.24 1.79v4.03c-1.44-.05-2.89-.35-4.2-.97-.57-.26-1.1-.59-1.62-.93-.01 2.92.01 5.84-.02 8.75-.08 1.4-.54 2.79-1.35 3.94-1.31 1.92-3.58 3.17-5.91 3.21-1.43.08-2.86-.31-4.08-1.03-2.02-1.19-3.44-3.37-3.65-5.71-.02-.5-.03-1-.01-1.49.18-1.9 1.12-3.72 2.58-4.96 1.66-1.44 3.98-2.13 6.15-1.72.02 1.48-.04 2.96-.04 4.44-.99-.32-2.15-.23-3.02.37-.63.41-1.11 1.04-1.36 1.75-.21.51-.15 1.07-.14 1.61.24 1.64 1.82 3.02 3.5 2.87 1.12-.01 2.19-.66 2.77-1.61.19-.33.4-.67.41-1.06.1-1.79.06-3.57.07-5.36.01-4.03-.01-8.05.02-12.07z"})}),q="text-black";break;case"youtube":_=()=>e.jsx("svg",{className:"h-6 w-6 text-red-500",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M19.615 3.184c-3.604-.246-11.631-.245-15.23 0-3.897.266-4.356 2.62-4.385 8.816.029 6.185.484 8.549 4.385 8.816 3.6.245 11.626.246 15.23 0 3.897-.266 4.356-2.62 4.385-8.816-.029-6.185-.484-8.549-4.385-8.816zm-10.615 12.816v-8l8 3.993-8 4.007z"})}),q="text-red-500";break;case"google-drive":_=()=>e.jsx("svg",{className:"h-6 w-6 text-blue-500",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M23.894 14.429l-10.5 6.303c-.285.171-.629.265-.991.265-.362 0-.706-.094-.991-.265l-10.5-6.303C.332 14.082 0 13.494 0 12.857v-1.714c0-.637.332-1.225.906-1.572l10.5-6.303c.285-.171.629-.265.991-.265.362 0 .706.094.991.265l10.5 6.303c.574.347.906.935.906 1.572v1.714c0 .637-.332 1.225-.906 1.572zM12 4.286l-9.844 5.909 9.844 5.909 9.844-5.909L12 4.286z"})}),q="text-blue-500";break;default:_=Fs;break}return{...g,icon:_,color:q,connected:!!W,connectionId:W?.id}});console.log("Setting integrations:",v),re(v)}catch(a){console.error("Error loading integrations:",a),re([{id:"instagram",name:"Instagram",description:"Connect your Instagram Business account",key:"instagram",icon:()=>e.jsx("svg",{className:"h-6 w-6 text-pink-500",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"})}),color:"text-pink-500",connected:!1},{id:"facebook",name:"Facebook",description:"Manage Facebook Pages and ads",key:"facebook",icon:()=>e.jsx("svg",{className:"h-6 w-6 text-blue-600",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z"})}),color:"text-blue-600",connected:!1},{id:"tiktok",name:"TikTok",description:"Schedule and publish TikTok videos",key:"tiktok",icon:()=>e.jsx("svg",{className:"h-6 w-6 text-black",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M12.525.02c1.31-.02 2.61-.01 3.91-.02.08 1.53.63 3.09 1.75 4.17 1.12 1.11 2.7 1.62 4.24 1.79v4.03c-1.44-.05-2.89-.35-4.2-.97-.57-.26-1.1-.59-1.62-.93-.01 2.92.01 5.84-.02 8.75-.08 1.4-.54 2.79-1.35 3.94-1.31 1.92-3.58 3.17-5.91 3.21-1.43.08-2.86-.31-4.08-1.03-2.02-1.19-3.44-3.37-3.65-5.71-.02-.5-.03-1-.01-1.49.18-1.9 1.12-3.72 2.58-4.96 1.66-1.44 3.98-2.13 6.15-1.72.02 1.48-.04 2.96-.04 4.44-.99-.32-2.15-.23-3.02.37-.63.41-1.11 1.04-1.36 1.75-.21.51-.15 1.07-.14 1.61.24 1.64 1.82 3.02 3.5 2.87 1.12-.01 2.19-.66 2.77-1.61.19-.33.4-.67.41-1.06.1-1.79.06-3.57.07-5.36.01-4.03-.01-8.05.02-12.07z"})}),color:"text-black",connected:!1},{id:"youtube",name:"YouTube",description:"Upload and manage YouTube content",key:"youtube",icon:()=>e.jsx("svg",{className:"h-6 w-6 text-red-500",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M19.615 3.184c-3.604-.246-11.631-.245-15.23 0-3.897.266-4.356 2.62-4.385 8.816.029 6.185.484 8.549 4.385 8.816 3.6.245 11.626.246 15.23 0 3.897-.266 4.356-2.62 4.385-8.816-.029-6.185-.484-8.549-4.385-8.816zm-10.615 12.816v-8l8 3.993-8 4.007z"})}),color:"text-red-500",connected:!1},{id:"google-drive",name:"Google Drive",description:"Connect your Google Drive for file storage and sharing",key:"google-drive",icon:()=>e.jsx("svg",{className:"h-6 w-6 text-blue-500",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M23.894 14.429l-10.5 6.303c-.285.171-.629.265-.991.265-.362 0-.706-.094-.991-.265l-10.5-6.303C.332 14.082 0 13.494 0 12.857v-1.714c0-.637.332-1.225.906-1.572l10.5-6.303c.285-.171.629-.265.991-.265.362 0 .706.094.991.265l10.5 6.303c.574.347.906.935.906 1.572v1.714c0 .637-.332 1.225-.906 1.572zM12 4.286l-9.844 5.909 9.844 5.909 9.844-5.909L12 4.286z"})}),color:"text-blue-500",connected:!1}]),l({title:"Warning",description:"Failed to load integrations from server, showing default integrations.",variant:"destructive"})}})()},[A]);const Qe=async(s,a)=>{try{const o={name:`${s.firstName} ${s.lastName}`,email:s.email};if(a)try{const{assetService:g}=await K(async()=>{const{assetService:_}=await import("./index-KUMPN-_-.js").then(q=>q.ap);return{assetService:_}},__vite__mapDeps([0,1]),import.meta.url),W=await g.upload(a);W&&(o.avatar=W.url)}catch(g){console.error("Error uploading avatar:",g),l({title:"Avatar Upload Failed",description:"Failed to upload avatar. Profile will be updated without avatar.",variant:"destructive"})}if(await k(o))c({firstName:s.firstName,lastName:s.lastName,email:s.email,title:s.title,timezone:s.timezone,avatar:o.avatar||s.avatar||""}),console.log("Profile updated:",s),l({title:"Profile Updated",description:"Your profile has been updated successfully."});else throw new Error("Failed to update profile")}catch(o){throw console.error("Error updating profile:",o),l({title:"Error",description:"Failed to update profile. Please try again.",variant:"destructive"}),o}},Ze=async s=>{try{f(s),console.log("Notifications updated:",s),await new Promise(a=>setTimeout(a,500))}catch(a){throw console.error("Error updating notifications:",a),a}},Je=async s=>{try{const a=ke.find(o=>o.id===s);if(!a){l({title:"Error",description:"Integration not found.",variant:"destructive"});return}if(a.connected)a.connectionId&&await ie.disconnect(a.connectionId),l({title:"Integration Disconnected",description:`${a.name} has been disconnected from your account.`}),re(o=>o.map(v=>v.id===s?{...v,connected:!1,connectionId:void 0}:v));else{const o=await ie.connect(s);if(o?.authorizationUrl)l({title:"Redirecting to OAuth",description:`Redirecting to ${a.name} for authentication...`}),window.location.href=o.authorizationUrl;else throw new Error("Failed to get authorization URL")}}catch(a){console.error("Error toggling integration:",a),l({title:"Error",description:"Failed to toggle integration. Please try again.",variant:"destructive"})}},Xe=async s=>{try{const{userService:a}=await K(async()=>{const{userService:g}=await import("./index-KUMPN-_-.js").then(W=>W.ap);return{userService:g}},__vite__mapDeps([0,1]),import.meta.url),o={...s,password:s.password||"defaultpassword"},v=await a.register(o);if(v)C(g=>[...g,v]),t?.role==="ADMIN"&&t.id&&$e(g=>[...g,v.id]),l({title:"Team Member Added",description:"The new team member has been successfully added."});else throw new Error("Failed to add team member")}catch(a){throw console.error("Error adding team member:",a),l({title:"Error",description:"Failed to add team member. Please try again.",variant:"destructive"}),a}},es=s=>{D(s),T(!0)},ss=async s=>{try{if(!F)return;const{userService:a}=await K(async()=>{const{userService:v}=await import("./index-KUMPN-_-.js").then(g=>g.ap);return{userService:v}},__vite__mapDeps([0,1]),import.meta.url),o=await a.update(F.id,s);if(o)C(v=>v.map(g=>g.id===F.id?o:g)),l({title:"Team Member Updated",description:"The team member has been successfully updated."});else throw new Error("Failed to update team member")}catch(a){throw console.error("Error updating team member:",a),l({title:"Error",description:"Failed to update team member. Please try again.",variant:"destructive"}),a}},ts=async s=>{try{const{userService:a}=await K(async()=>{const{userService:v}=await import("./index-KUMPN-_-.js").then(g=>g.ap);return{userService:v}},__vite__mapDeps([0,1]),import.meta.url);if(await a.delete(s))C(v=>v.filter(g=>g.id!==s)),l({title:"Team Member Removed",description:"The team member has been successfully removed."});else throw new Error("Failed to delete team member")}catch(a){console.error("Error deleting team member:",a),l({title:"Error",description:"Failed to remove team member. Please try again.",variant:"destructive"})}},as=async s=>{F?await ss(s):await Xe(s)},Ce=s=>{Se(s),Ge(`/settings?tab=${s}`)},rs=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Team Management"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(h,{onClick:()=>{D(null),T(!0)},children:[e.jsx(Te,{className:"h-4 w-4 mr-2"}),"Add Member"]}),e.jsxs(h,{variant:"outline",onClick:()=>Ce("roles"),children:[e.jsx(ne,{className:"h-4 w-4 mr-2"}),"Manage Roles"]})]})]}),e.jsx(d,{className:"p-4 bg-blue-50 border-blue-200",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(ne,{className:"h-5 w-5 text-blue-500 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-blue-900",children:"Role Management"}),e.jsx("p",{className:"text-sm text-blue-700",children:"Only ADMIN users can manage roles and permissions. Role changes take effect immediately. Refer to the Role Management tab for detailed access permissions for each role."})]})]})}),e.jsxs(d,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Invite Team Member"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"md:col-span-2 space-y-2",children:[e.jsx(S,{htmlFor:"inviteEmail",children:"Email Address"}),e.jsx(M,{id:"inviteEmail",type:"email",placeholder:"user@example.com",value:H.email,onChange:s=>me({...H,email:s.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(S,{htmlFor:"inviteRole",children:"Role"}),e.jsxs("select",{id:"inviteRole",className:"w-full p-2 border border-input rounded-md bg-background",value:H.role,onChange:s=>me({...H,role:s.target.value}),children:[e.jsx("option",{value:"CONTRIBUTOR",children:"Contributor"}),e.jsx("option",{value:"MANAGER",children:"Manager"}),e.jsx("option",{value:"VIEWER",children:"Viewer"})]})]})]}),e.jsx(h,{className:"mt-4",onClick:Ye,disabled:Ne,children:Ne?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mr-2 h-4 w-4 animate-spin rounded-full border-2 border-primary border-t-transparent"}),"Sending Invitation..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Ds,{className:"h-4 w-4 mr-2"}),"Send Invitation"]})})]}),e.jsx(d,{className:"p-6",children:R?e.jsx("div",{className:"flex items-center justify-center p-8",children:e.jsx("p",{children:"Loading team members..."})}):I.length===0?e.jsxs("div",{className:"text-center p-8",children:[e.jsx("p",{className:"text-muted-foreground",children:"No team members found."}),e.jsxs(h,{className:"mt-4",onClick:()=>{D(null),T(!0)},children:[e.jsx(Te,{className:"h-4 w-4 mr-2"}),"Add Your First Team Member"]})]}):e.jsx("div",{className:"space-y-4",children:I.map(s=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[s.avatar?e.jsx("img",{src:s.avatar,alt:s.name,className:"w-10 h-10 rounded-full object-cover"}):e.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center",children:e.jsx("span",{className:"text-primary font-medium",children:s.name?.charAt(0).toUpperCase()})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:s.name}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s.email})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Q,{variant:s.role==="ADMIN"?"destructive":s.role==="MANAGER"?"default":"secondary",children:s.role}),e.jsx(h,{variant:"ghost",size:"sm",onClick:()=>es(s),children:e.jsx(Is,{className:"h-4 w-4"})}),e.jsx(h,{variant:"ghost",size:"sm",onClick:()=>ts(s.id),children:e.jsx(Ps,{className:"h-4 w-4"})})]})]},s.id))})}),e.jsx($s,{isOpen:E,onClose:()=>{T(!1),D(null)},onSubmit:as,onInvite:ds,member:F})]}),is=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Billing & Subscription"}),i?e.jsx("div",{className:"flex items-center justify-center p-8",children:e.jsx("p",{children:"Loading billing information..."})}):p?e.jsxs(e.Fragment,{children:[e.jsxs(d,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Current Plan"}),e.jsxs("p",{className:"text-muted-foreground",children:[p.subscription.plan.charAt(0).toUpperCase()+p.subscription.plan.slice(1)," Plan - $",p.subscription.price.amount,"/",p.subscription.price.currency.toLowerCase(),"/month"]})]}),e.jsx(h,{variant:"outline",onClick:()=>ls(),children:"Change Plan"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[e.jsxs(d,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Pe,{className:"h-5 w-5 text-primary"}),e.jsx("h4",{className:"font-semibold",children:"Payment Method"})]}),p.paymentMethod?e.jsxs(e.Fragment,{children:[e.jsxs("p",{className:"text-sm",children:[p.paymentMethod.brand," ending in ",p.paymentMethod.last4]}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Expires ",p.paymentMethod.expiryMonth,"/",p.paymentMethod.expiryYear]})]}):e.jsx("p",{className:"text-sm text-muted-foreground",children:"No payment method on file"})]}),e.jsxs(d,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(ze,{className:"h-5 w-5 text-primary"}),e.jsx("h4",{className:"font-semibold",children:"Next Billing Date"})]}),e.jsx("p",{className:"text-sm",children:p.subscription.endDate?new Date(p.subscription.endDate).toLocaleDateString():"N/A"}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Auto-renewal ",p.subscription.autoRenew?"enabled":"disabled"]})]}),e.jsxs(d,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Ts,{className:"h-5 w-5 text-primary"}),e.jsx("h4",{className:"font-semibold",children:"Amount"})]}),e.jsxs("p",{className:"text-sm",children:["$",p.subscription.price.amount.toFixed(2)," ",p.subscription.price.currency]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Billed monthly"})]})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(h,{variant:"outline",onClick:()=>os(),children:"Update Payment Method"}),e.jsx(h,{onClick:()=>cs(),children:"View Invoice History"})]})]}),O.length>0&&e.jsxs(d,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Recent Invoices"}),e.jsx("div",{className:"space-y-3",children:O.slice(0,3).map(s=>e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium",children:["Invoice ",s.id]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[new Date(s.date).toLocaleDateString()," • $",s.amount.value.toFixed(2)," ",s.amount.currency]})]}),e.jsx(Q,{variant:s.status==="paid"?"default":"secondary",children:s.status})]},s.id))})]})]}):e.jsx(d,{className:"p-6",children:e.jsx("p",{className:"text-center text-muted-foreground",children:"No billing information available."})}),V&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsx(d,{className:"w-full max-w-md",children:e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Change Subscription Plan"}),e.jsx("div",{className:"space-y-4",children:["free","starter","professional","enterprise"].map(s=>e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg cursor-pointer hover:bg-accent",onClick:async()=>{try{const a=await xe.updateSubscription(s);L(a),X(!1),l({title:"Subscription Updated",description:`Your subscription has been updated to the ${s} plan.`})}catch{l({title:"Error",description:"Failed to update subscription. Please try again.",variant:"destructive"})}},children:[e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium",children:[s.charAt(0).toUpperCase()+s.slice(1)," Plan"]}),s!=="free"&&e.jsxs("p",{className:"text-sm text-muted-foreground",children:["$",s==="starter"?"19":s==="professional"?"29":"99","/month"]})]}),p?.subscription.plan===s&&e.jsx(Q,{children:"Current"})]},s))}),e.jsx("div",{className:"flex justify-end gap-2 mt-6",children:e.jsx(h,{variant:"outline",onClick:()=>X(!1),children:"Cancel"})})]})})}),ce&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsx(d,{className:"w-full max-w-md",children:e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Update Payment Method"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(S,{htmlFor:"cardNumber",children:"Card Number"}),e.jsx(M,{id:"cardNumber",placeholder:"1234 5678 9012 3456"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(S,{htmlFor:"expiry",children:"Expiry Date"}),e.jsx(M,{id:"expiry",placeholder:"MM/YY"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(S,{htmlFor:"cvv",children:"CVV"}),e.jsx(M,{id:"cvv",placeholder:"123"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(S,{htmlFor:"name",children:"Cardholder Name"}),e.jsx(M,{id:"name",placeholder:"John Doe"})]})]}),e.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[e.jsx(h,{variant:"outline",onClick:()=>de(!1),children:"Cancel"}),e.jsx(h,{onClick:async()=>{try{de(!1),l({title:"Payment Method Updated",description:"Your payment method has been updated successfully."})}catch{l({title:"Error",description:"Failed to update payment method. Please try again.",variant:"destructive"})}},children:"Save"})]})]})})}),He&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsx(d,{className:"w-full max-w-2xl max-h-[80vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Invoice History"}),e.jsx(h,{variant:"ghost",size:"sm",onClick:()=>ve(!1),children:"Close"})]}),O.length>0?e.jsx("div",{className:"space-y-3",children:O.map(s=>e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium",children:["Invoice ",s.id]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[new Date(s.date).toLocaleDateString()," • $",s.amount.value.toFixed(2)," ",s.amount.currency]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Q,{variant:s.status==="paid"?"default":"secondary",children:s.status}),s.pdfUrl&&e.jsx(h,{variant:"outline",size:"sm",onClick:()=>window.open(s.pdfUrl,"_blank"),children:"Download"})]})]},s.id))}):e.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No invoices found."})]})})})]}),ns=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Security Settings"}),B?e.jsx("div",{className:"flex items-center justify-center p-8",children:e.jsx("p",{children:"Loading security information..."})}):e.jsxs(e.Fragment,{children:[e.jsxs(d,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Change Password"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(S,{htmlFor:"currentPassword",children:"Current Password"}),e.jsx(M,{id:"currentPassword",type:"password"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(S,{htmlFor:"newPassword",children:"New Password"}),e.jsx(M,{id:"newPassword",type:"password"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(S,{htmlFor:"confirmPassword",children:"Confirm New Password"}),e.jsx(M,{id:"confirmPassword",type:"password"})]})]}),e.jsx("div",{className:"flex justify-end mt-4",children:e.jsxs(h,{onClick:async()=>{const s=document.getElementById("currentPassword").value,a=document.getElementById("newPassword").value,o=document.getElementById("confirmPassword").value;if(!s||!a||!o){l({title:"Error",description:"All password fields are required.",variant:"destructive"});return}if(a!==o){l({title:"Error",description:"New passwords do not match.",variant:"destructive"});return}if(a.length<8){l({title:"Error",description:"New password must be at least 8 characters long.",variant:"destructive"});return}try{await ae.changePassword(s,a),l({title:"Success",description:"Password updated successfully."}),document.getElementById("currentPassword").value="",document.getElementById("newPassword").value="",document.getElementById("confirmPassword").value=""}catch(v){l({title:"Error",description:v.response?.data?.message||"Failed to update password. Please try again.",variant:"destructive"})}},children:[e.jsx(Us,{className:"h-4 w-4 mr-2"}),"Update Password"]})})]}),e.jsxs(d,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Two-Factor Authentication"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Enable 2FA"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Add an extra layer of security to your account"})]}),e.jsx($,{checked:J?.twoFactorAuth?.enabled||!1,onCheckedChange:async s=>{try{const a=await ae.toggleTwoFactorAuth(s);y(o=>({...o,twoFactorAuth:{...o?.twoFactorAuth,enabled:s}})),l({title:"Success",description:`Two-factor authentication ${s?"enabled":"disabled"} successfully.`}),s&&a.backupCodes&&l({title:"Backup Codes",description:`Your backup codes: ${a.backupCodes.join(", ")}. Store them securely!`})}catch(a){l({title:"Error",description:a.response?.data?.message||"Failed to update 2FA settings. Please try again.",variant:"destructive"})}}})]})]}),e.jsxs(d,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Active Sessions"}),J?.sessions&&J.sessions.length>0?e.jsxs("div",{className:"space-y-3",children:[J.sessions.map(s=>e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:s.userAgent||"Unknown Browser"}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.current?"Current session":`Last active: ${new Date(s.lastActive).toLocaleString()}`," • ",s.location||"Unknown Location"]})]}),!s.current&&e.jsx(h,{variant:"outline",size:"sm",onClick:async()=>{try{await ae.revokeSession(s.id),y(a=>({...a,sessions:a?.sessions?.filter(o=>o.id!==s.id)})),l({title:"Success",description:"Session revoked successfully."})}catch(a){l({title:"Error",description:a.response?.data?.message||"Failed to revoke session. Please try again.",variant:"destructive"})}},children:"Revoke"}),s.current&&e.jsx(h,{variant:"outline",size:"sm",children:"Current"})]},s.id)),J.sessions.filter(s=>!s.current).length>0&&e.jsx("div",{className:"flex justify-end mt-4",children:e.jsx(h,{variant:"destructive",onClick:async()=>{try{await ae.revokeAllSessions(),y(s=>({...s,sessions:s?.sessions?.filter(a=>a.current)})),l({title:"Success",description:"All other sessions have been revoked."})}catch(s){l({title:"Error",description:s.response?.data?.message||"Failed to revoke sessions. Please try again.",variant:"destructive"})}},children:"Revoke All Other Sessions"})})]}):e.jsx("p",{className:"text-center text-muted-foreground py-4",children:"No active sessions found."})]})]})]}),ls=()=>{X(!0)},os=()=>{de(!0)},cs=()=>{ve(!0)},ds=async(s,a)=>{try{const o=await As.post("/invitations",{email:s,role:a});if(o.data.success)return{invitationLink:o.data.data.invitationLink};throw new Error(o.data.message||"Failed to send invitation")}catch(o){throw console.error("Error inviting member:",o),l({title:"Error",description:o.response?.data?.message||"Failed to send invitation. Please try again.",variant:"destructive"}),o}};return e.jsx(ue,{children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Cs,{className:"h-8 w-8 text-primary"}),e.jsx("h1",{className:"text-3xl font-bold",children:"Settings"})]}),e.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[e.jsx("div",{className:"lg:w-64",children:e.jsx("nav",{className:"space-y-1",children:Ke.map(s=>{const a=s.icon;return e.jsxs(h,{variant:A===s.id?"default":"ghost",className:"w-full justify-start",onClick:()=>Ce(s.id),children:[e.jsx(a,{className:"h-4 w-4 mr-2"}),s.label]},s.id)})})}),e.jsxs("div",{className:"flex-1",children:[A==="profile"&&e.jsx(Vs,{profileData:r,onUpdateProfile:Qe}),A==="team"&&rs(),A==="roles"&&e.jsx(Ys,{users:I,onUsersUpdate:async()=>{try{const{userService:s}=await K(async()=>{const{userService:o}=await import("./index-KUMPN-_-.js").then(v=>v.ap);return{userService:o}},__vite__mapDeps([0,1]),import.meta.url),a=await s.getAll();C(a)}catch(s){console.error("Error reloading team members:",s)}}}),A==="notifications"&&e.jsx(Hs,{notifications:x,onUpdateNotifications:Ze}),A==="integrations"&&e.jsx(Gs,{integrations:ke,onToggleConnection:Je}),A==="billing"&&is(),A==="security"&&ns(),A==="help"&&e.jsx(Ks,{}),A==="terms"&&e.jsx(Qs,{}),A==="privacy"&&e.jsx(Zs,{})]})]})]})})};export{tt as default};
